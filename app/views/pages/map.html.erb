<div id="map_container" class="google-map-container star-map-container">
  <div id="map_canvas" class="google-map canvas-map"></div>
  <div class="star-map-overflow">
    <div id="star_canvas" class="star-map canvas-stars"></div>
  </div>
</div>


<script src="//maps.google.com/maps/api/js?key=AIzaSyA9Vvu2Aoagb5nERWzWpGKeKEByL916S-8"></script>
<script src="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/dist/markerclusterer.min.js"></script>
<script src='//cdn.rawgit.com/printercu/google-maps-utility-library-v3-read-only/master/infobox/src/infobox_packed.js' type='text/javascript'></script> <!-- only if you need custom infoboxes -->

<script type="text/javascript">
handler = Gmaps.build('Google');
handler.buildMap({
    provider: {
      disableDefaultUI: true,
      minZoom: 3,
      scaleControl: true,
      zoomControl: true
    },
    internal: {
      id: 'map_canvas'
    }
  },
  function(){
    var json_array = <%=raw @hash.to_json %>
    var markers = handler.addMarkers(json_array);
    handler.bounds.extendWith(markers);
    handler.fitMapToBounds();
  }
);
</script>
